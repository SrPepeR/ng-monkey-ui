<monkey-icon-button
  *ngIf="!check(showHint) || !canShowHint"
  class="aside-menu-toggle"
  [alt]="alt"
  [icon]="isAsideOpened ? CLOSE_ASIDE_ICON : OPEN_ASIDE_ICON"
  (onClick)="toggleMenu()"

  [style]="style"
  [brutalist]="brutalist"
  [flat]="flat"
  [ghost]="ghost"
  [glass]="glass"
  [glow]="glow"
></monkey-icon-button>

<monkey-card
  id="aside-menu-content"
  class="aside-menu"
  [class.hinted]="check(showHint) && canShowHint && !isAsideOpened"
  [column]="true"
  
  (mouseenter)="openMenu()"
  (mouseleave)="!openByToggle ? closeMenu() : null"

  [brutalist]="brutalist"
  [glass]="glass"
  [flat]="flat"
  [ghost]="ghost"
  [glow]="glow"

  noMargin
  noPadding
>
  <monkey-list
    class="aside-menu-content-list"
    [style]="style"
    gapSize="md"
  >
    <monkey-list
      [style]="style"
      gapSize="sm"
      separators

      *ngFor="let option of data"
    >
      <monkey-button
        *ngIf="!option.children"
        class="aside-menu-option"
        (onClick)="onClicked(option)"

        [class.current-option]="option == currentOption"
        
        [style]="style"
        discreet
      >
        {{ isAsideOpened ? option.label : '' }}

        <span
          class="material-symbols-outlined"
        >{{ option.icon ? option.icon : DEFAULT_ICON }}</span>
      </monkey-button>

      <monkey-list
        [style]="style"
        gapSize="sm"

        *ngIf="option.children"
      >
        <!-- TODO Replace this with monkey-subheader -->
        <section
          class="option-group"
  
          [class.dark-theme]="isDarkMode$ | async"
        >
          <span
            class="option-group-label"
            *ngIf="isAsideOpened"
          >{{ option.label }}</span>
          
          <span
            class="material-symbols-outlined"
          >{{ option.icon ? option.icon : DEFAULT_ICON }}</span>
        </section>

        <monkey-button
          *ngFor="let optionChildren of option.children"
          class="aside-menu-option"
          (onClick)="onClicked(optionChildren)"

          [class.current-option]="optionChildren == currentOption"
          
          [style]="style"
          discreet
        >
          {{ isAsideOpened ? optionChildren.label : '' }}

          <span
            class="material-symbols-outlined"
          >{{ optionChildren.icon ? optionChildren.icon : DEFAULT_ICON }}</span>
        </monkey-button>
      </monkey-list>
    </monkey-list>
  </monkey-list>
</monkey-card>
